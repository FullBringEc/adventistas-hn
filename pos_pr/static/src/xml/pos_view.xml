<?xml version="1.0" encoding="UTF-8" ?>
<template id="template" xml:space="preserve">
    <t t-name="BtnRegisterPayment">
        <div class="control-button">Payment Register</div>
    </t>

    <t t-name="InvoicesLineWidget">
        <div class="pos-payment-register screen">
            <div class="screen-content" style="max-width: 100%;">
                <section class="top-content">
                    <span class="button back">
                        <i class="fa fa-angle-double-left"/>
                        Cancel
                    </span>
                    <span class="searchbox">
                        <input placeholder="Search Invoice"/>
                        <span class="search-clear"/>
                    </span>
                    <span class="searchbox"/>


                    <div style="right: 0; display: block; width: 35%; height: 100%; position: absolute;">
                        <div class="js_hidden_when_surcharge">
                            <span class="button apply-payments highlight" style="left: 0;">
                                Apply to invoices <i class="fa fa-angle-double-right"/>
                            </span>
                            <span class="button validate-payments" id="btn_validate_payment">
                                Validate payments <i class="fa fa-angle-double-right"/>
                            </span>
                        </div>
                        <div class="js_hidden_when_no_surcharge">
                            <span class="button pay-surcharge" id="btn_pay_surcharge">
                                Pay surcharge <i class="fa fa-angle-double-right"/>
                            </span>
                        </div>
                    </div>
                </section>
                <section class="full-content">
                    <div class="window">
                        <section class="screen-right"/>
                        <section class="screen-left">
                            <div class="subwindow-container">
                                <div class="subwindow-container-fix js_invoice_list_container"
                                     style="height: 100vh;">
                                    <div/>
                                    <div class="surcharge-blocking-invoices-message js_hidden_when_no_surcharge"/>
                                </div>
                            </div>
                        </section>
                    </div>
                </section>
            </div>
        </div>
    </t>

<!--    <t t-name="PosInvoiceLine">-->
<!--        <tr class="invoice-list__content-line" t-att-data-id="invoice_id.id">-->
<!--            <td class="js-name"><t t-esc="invoice_id.name"/></td>-->
<!--            <td class="js-partner-id"><t t-esc="invoice_id.partner_id[1]"/></td>-->
<!--            <td class="js-invoice-date"><t t-esc="invoice_id.journal_id[1]"/></td>-->
<!--            <td class="js-invoice-date"><t t-esc="invoice_id.invoice_date"/></td>-->
<!--            <td class="js-invoice-date_due"><t t-esc="invoice_id.invoice_date_due"/></td>-->
<!--            <td class="js-amount-total"><t t-esc="invoice_id.amount_total"/></td>-->
<!--            <td class="js-amount-residual"><t t-esc="invoice_id.amount_residual"/></td>-->
<!--            <td class="js-session-payment"><t t-esc="invoice_id.session_payment"/></td>-->
<!--            <td class="js-expected-final-due"><t t-esc="invoice_id.expected_final_due"/></td>-->
<!--        </tr>-->
<!--    </t>-->

    <t t-name="InvoiceDetails">
        <t t-set="ID_ARRAY_POS" t-value="0"/>
        <t t-set="NAME_ARRAY_POS" t-value="0"/>
        <section class="invoice-details">
            <h2><t t-esc="move.name" /></h2>
            <div class="invoice-details-box clearfix">

                <!--Left dashboard-->
                <div class="invoice-details-left">
                    <div class="invoice-detail">
                        <span class="label">Amount total</span>
                        <t t-if="move.amount_total">
                            <span class="detail invoice-total">
                                <t t-esc="move.amount_total"/>
                            </span>
                        </t>
                        <t t-if="!move.amount_total">
                            <span class="detail invoice-total empty">N/A</span>
                        </t>
                    </div>

                    <div class="invoice-detail">
                        <span class="label">Amount due</span>
                        <t t-if="move.amount_residual">
                            <span class="detail invoice-residual">
                                <t t-esc="move.amount_residual" widget="monetary"/>
                            </span>
                        </t>
                        <t t-if="!move.amount_residual">
                            <span class="detail invoice-residual empty">N/A</span>
                        </t>
                    </div>
                </div>

                <!-- Right dashboard -->
                <div class="invoice-details-right">
                    <div class="invoice-detail">
                        <span class="label">Invoice date</span>
                        <t t-if="move.invoice_date">
                            <span class="detail invoice-date">
                                <t t-esc="move.invoice_date"/>
                            </span>
                        </t>
                        <t t-if="!move.invoice_date">
                            <span class="detail invoice-invoice_date empty">N/A</span>
                        </t>
                    </div>

                    <div class="invoice-detail">
                        <span class="label">Journal</span>
                        <t t-if="move.journal_id">
                            <span class="detail invoice-journal">
                                <t t-esc="journal_by_id[move.journal_id[NAME_ARRAY_POS]].display_name"/>
                            </span>
                        </t>
                        <t t-if="!move.journal_id">
                            <span class="detail invoice-journal empty">N/A2</span>
                        </t>
                    </div>
                </div>
            </div>
        </section>
    </t>

    <t t-name="PaymentList">
        <h2>Payments</h2>
        <table class="payment-method-list">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Amount</th>
                    <th>invoice paid amount</th>
                    <th>session total paid</th>
                </tr>
            </thead>
            <tbody>
                <t t-foreach="payment_method_ids" t-as="payment_method_id">
                    <tr class="input-payment-method" t-att-data-id="payment_method_id.id">
                        <td><t t-esc="payment_method_id.name"/></td>
                        <td>
                            <div class="input-group">
                                <label class="input-addon"><t t-esc="widget.pos.currency.symbol"/></label>
                                <input class="form-select" type="text" step="0.01" mix="0"
                                       t-att-value="payment_methods_amounts[payment_method_id.id]"/>
                            </div>
                        </td>
                        <td/>
                        <td>
                            <t t-if="move" t-esc="move.payment_amount"/>
                            <t t-else="">0</t>
                        </td>
                    </tr>
                </t>
                <tr class="input-payment-discount">
                    <td>
                        <span>Discount type</span>
                    </td>
                    <td colspan="3">
                        <div class="input-group">
                            <label for="discount_type-radio-fixed">Fixed</label>
                            <input type="radio" class="js_readio_discount_type" id="discount_type-radio-fixed" name="discount_type" value="fixed"/>
                            <label for="discount_type-radio-percentage">Percentage</label>
                            <input type="radio" class="js_readio_discount_type" id="discount_type-radio-percentage" name="discount_type" value="percentage"/>
                        </div>
                        <div class="input-group oe_hidden" id="discount_percentage-group">
                            <label class="input-addon" for="discount_percentage">%</label>
                            <input class="form-select" id="discount_percentage" name="discount_percentage"
                                   type="text" step="0.01" mix="0"/>
                        </div>
                    </td>
                </tr>
                <tr class="input-payment-discount">
                    <td>
                        <span>Discount</span>
                    </td>
                    <td colspan="3">
                        <div class="input-group">
                            <label class="input-addon"><t t-esc="widget.pos.currency.symbol"/></label>
                            <input class="form-select" type="text" step="0.01" mix="0"
                                   name="input_payment_discount"/>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </t>
</template>